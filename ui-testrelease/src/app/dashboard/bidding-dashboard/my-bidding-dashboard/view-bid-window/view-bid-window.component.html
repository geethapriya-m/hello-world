<ion-content>
<ion-grid  class="ion-text-center" *ngIf="spinner === true">
  <ion-row>
    <ion-col size="12">
      <ion-spinner name="bubbles"></ion-spinner>
    </ion-col>
  </ion-row>

</ion-grid>

<ion-grid class="main" *ngIf="checkData==true && spinner==false;else elseBlock" (click)="disablePopup()">
    <ion-row class="content-data ion-no-padding">
       <ion-col size="12" class="app-font-primary-color ion-text-center "><b style="font-weight: bolder;margin-right: 5px;">Bid Schedule:</b> {{bid_schedule_name}}</ion-col>

      <!-- <ion-col size="12" class="app-font-primary-color ion-text-center ion-no-margin ion-no-padding"><b>SHIFTLINES SCHEDULE</b></ion-col> -->
    </ion-row>
  <ion-row class="ion-no-padding ion-no-margin  app-font-primary-color content-data-14px">
    <ion-grid  class="ion-no-padding ion-no-margin " style="overflow-x: scroll;overflow: hidden;">
      <div class="scrollmenu" >
          <ion-label [class]="getIndicatorClass(i)" *ngFor="let all_SBP_rounds of all_SBP_rounds;let i=index" (click)="displayRoundData(i,all_SBP_rounds)"><b class="font-normal" (click)="disablePopup()">Round {{i + 1}}</b></ion-label>
      </div>
    </ion-grid>
  </ion-row>
  <ion-row  class="ion-text-center data">
    <ion-col size="11" class="ion-text-center">

      <ion-label >Bid Duration: <b>{{roundDuration}}</b> <b *ngIf="convertNumber(roundDuration)>1"> Minutes</b><b *ngIf="convertNumber(roundDuration)<2"> Minute</b> </ion-label>
    </ion-col>
    <ion-col size="1">
      <ion-icon style="font-size: 18px;" (click)="export()" class="app-font-mercurius-secondary-color" name="download-outline"></ion-icon>
    </ion-col>
    <ion-col size="12" class="app-font-primary-color ion-text-center ion-no-margin ion-no-padding"><b style="font-weight: bolder;margin-right: 5px;">Time:</b> {{bidShculeTimeZoneacronym}}</ion-col>
  </ion-row>

  <ion-grid  class=" app-font-primary-color content-data-14px  " style="padding-bottom: 0%;margin-bottom: 0%;" >
    <ion-row class="content-data ion-text-center" style="width: 100%;">
      <ion-col size="3"><b>Start</b></ion-col>
      <ion-col size="3" ><b >Time</b></ion-col>
      <ion-col size="3"><b>Assigned To</b></ion-col>
      <ion-col size="3"><b>Bid Status</b></ion-col>
    </ion-row>
  </ion-grid>
  <div class="app-background-mercurius-primary-color" style="width: 100%;height: 10px;margin: 0px !important;"></div>
  <ion-grid id="all-shift-list">
    <ion-row  *ngFor="let bidData of finalViewBidWindowData;let i=index;trackBy:identify" class="content-data ion-text-center" style="width: 100%;padding-top: 5px;padding-bottom: 5px;">
      <ion-col size="3">
        <ion-label>{{bidData.startTime |date:'MM/dd/yy'}}</ion-label></ion-col>
      <ion-col size="3" class="ion-justify-content-center" style="text-align: center !important;display: inline-block !important;"><ion-label style="text-align: center !important;display: inline-block;">{{bidData.startTime | date:'hh:mm a'}}</ion-label>
        <ion-label  *ngIf="bidData.status==2 || bidData.status==1;else elseInfoBLock">
          <div class="popup" style="display: inline-block !important;"  (click)="timePopUp(finalViewBidWindowData.length+i)"><ion-icon name="information-circle" class="app-font-mercurius-primary-color popup" style="font-size: 16px;margin-left: 1px;display: inline-block;margin-bottom: -4px;" ></ion-icon>
            <span class="popuptext" id="myPopup{{finalViewBidWindowData.length+i}}">
              <ion-row class="ion-no-padding ion-no-margin" *ngIf="bidData.vacationbidstatus!='Skipped' && bidData.shiftlinebidstatus!='Skipped' && bidData.vacationbidstatus!='Manager Skipped' && bidData.shiftlinebidstatus!='Manager Skipped';else skippedBlock">
                  <ion-col class="ion-no-padding ion-no-margin" size="0.3"></ion-col>
                  <ion-col class="ion-no-padding ion-no-margin" size="5.4">Actual Start Time</ion-col>
                  <ion-col class="ion-no-padding ion-no-margin" size="6.2">: <b>{{bidData.actualStart |date:'MM/dd'}}, {{bidData.actualStart |date:'hh:mm a'}}</b></ion-col>
                  <ion-col class="ion-no-padding ion-no-margin" size="0.3"></ion-col>
                  <ion-col class="ion-no-padding ion-no-margin" size="5.4">Actual End Time</ion-col>
                  <ion-col class="ion-no-padding ion-no-margin" size="6.2">: <b *ngIf="bidData.status==2">{{bidData.actualEnd |date:'MM/dd'}}, {{bidData.actualEnd |date:'hh:mm a'}}</b><b *ngIf="bidData.status==1">In Progress</b></ion-col>
              </ion-row>
              <ng-template #skippedBlock>
                <ion-row class="ion-no-padding ion-no-margin">
                  <!-- <ion-col class="ion-no-padding ion-no-margin ion-text-center"></ion-col> -->
                  <ion-col class=" ion-text-center" size="12" style="padding: 10px;"><ion-label>Round Skipped</ion-label></ion-col>
                  <!-- <ion-col class="ion-no-padding ion-no-margin" size="5.4">Actual Start Time</ion-col>
                  <ion-col class="ion-no-padding ion-no-margin" size="6.2">: <b>{{bidData.actualStart |date:'MM/dd'}}, {{bidData.actualStart |date:'hh:mm a'}}</b></ion-col> -->
                  <!-- <ion-col class="ion-no-padding ion-no-margin" size="0.3"></ion-col>
                  <ion-col class="ion-no-padding ion-no-margin" size="5.4">Actual End Time</ion-col>
                  <ion-col class="ion-no-padding ion-no-margin" size="6.2">: <b *ngIf="bidData.status==2">{{bidData.actualEnd |date:'MM/dd'}}, {{bidData.actualEnd |date:'hh:mm a'}}</b><b *ngIf="bidData.status==1">In Progress</b></ion-col> -->
              </ion-row>
              </ng-template>
            </span>
          </div>
        </ion-label>
        <ng-template #elseInfoBLock> <ion-label ><ion-icon name="information-circle" class="app-font-disabled-color" style="font-size: 16px;margin-left: 1px;margin-bottom: -4px;" ></ion-icon></ion-label></ng-template>

      </ion-col>
      <ion-col size="3">
        <ion-label>

        <div class="popupEmp"  (click)="popUpEmp(i)">
          <ion-label class="app-font-mercurius-secondary-color">{{bidData.empInitial}}</ion-label>

          <span class="popuptextEmp" id="myPopupEmp{{i}}">
            <p>Name : <b>{{bidData.empName}}</b> </p>
            <p>Seniority Rank : <b>{{bidData.rank}}</b></p>
          </span>
        </div>
      </ion-label>
      </ion-col>
      <ion-col size="3">
        <b><mat-icon *ngIf="bidData.status==0" style="color: #3B86FF;font-size: 24px;font-weight: 900;">remove_circle_outline</mat-icon>
          <mat-icon *ngIf="bidData.status==1"  style="color: #FBB053;font-size: 24px;font-weight: 900;">schedule</mat-icon>
          <mat-icon *ngIf="bidData.status==2"  style="color: #37F40B;font-size: 24px;font-weight: 900;">check_circle_outline</mat-icon>
          <mat-icon *ngIf="bidData.status==3"  style="color: #FF0000;font-size: 24px;font-weight: 900;">highlight_off</mat-icon></b>
      </ion-col>
      <mat-divider  style="border-bottom-width: 1px;width: 100%;" ></mat-divider>
    </ion-row>
  </ion-grid>
<!-- <ion-footer  > -->

<!-- </ion-footer> -->
</ion-grid>

<ng-template #elseBlock >
<ion-grid *ngIf="spinner==false">
  <ion-row class="ion-text-center data">
    <ion-col size="12">
      <ion-label>Data Not Available</ion-label>
    </ion-col>
  </ion-row>
</ion-grid>
</ng-template>
</ion-content>

<ion-grid id="footer" class="ion-no-margin ion-no-padding">
  <ion-row  class="content-data ion-no-margin ion-no-padding" >
    <ion-col size="2"></ion-col>
    <ion-col size="1" class="ion-no-margin ion-no-padding"><mat-icon  style="color: #3B86FF;font-size: 16px;font-weight: 900;">remove_circle_outline</mat-icon></ion-col>
    <ion-col size="3" class="ion-no-margin ion-no-padding">Not Open</ion-col>
    <ion-col size="1" class="ion-no-margin ion-no-padding"> <mat-icon style="color: #FBB053;font-size: 16px;font-weight: 900;">schedule</mat-icon></ion-col>
    <ion-col size="3" class="ion-no-margin ion-no-padding">In Progress</ion-col>
    <ion-col size="2"></ion-col>
    <ion-col size="2"></ion-col>
    <ion-col size="1" class="ion-no-margin ion-no-padding"> <mat-icon style="color: #37F40B;font-size: 16px;font-weight: 900;">check_circle_outline</mat-icon></ion-col>
    <ion-col size="3" class="ion-no-margin ion-no-padding">Completed</ion-col>

    <ion-col size="1" class="ion-no-margin ion-no-padding"><mat-icon  style="color: #FF0000;font-size: 16px;font-weight: 900;">highlight_off</mat-icon></ion-col>
    <ion-col size="3" class="ion-no-margin ion-no-padding">Incomplete</ion-col>
    <ion-col size="2"></ion-col>
  </ion-row>
</ion-grid>
